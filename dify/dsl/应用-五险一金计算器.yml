app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: åº”ç”¨-äº”é™©ä¸€é‡‘è®¡ç®—å™¨
  use_icon_as_answer_icon: false
dependencies: []
kind: app
version: 0.2.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: code
      id: 1750252528986-source-1750252558616-target
      source: '1750252528986'
      sourceHandle: source
      target: '1750252558616'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: end
      id: 1750252558616-source-1750253515890-target
      source: '1750252558616'
      sourceHandle: source
      target: '1750253515890'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: ç¨å‰å·¥èµ„
          max_length: 48
          options: []
          required: true
          type: number
          variable: salary
      height: 90
      id: '1750252528986'
      position:
        x: 79
        y: 282
      positionAbsolute:
        x: 79
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef main(salary: int) -> dict:\n    # è®¡ç®—å„é¡¹ä¿é™©å’Œå…¬ç§¯é‡‘ï¼ˆä¸ªäººéƒ¨åˆ†ï¼‰\n\
          \    pension_individual = salary * 0.08\n    medical_individual = salary\
          \ * 0.02 + 3\n    unemployment_individual = salary * 0.002\n    housing_individual\
          \ = salary * 0.12\n    \n    # è®¡ç®—å„é¡¹ä¿é™©å’Œå…¬ç§¯é‡‘ï¼ˆå•ä½éƒ¨åˆ†ï¼‰\n    pension_company = salary\
          \ * 0.20\n    medical_company = salary * 0.10\n    unemployment_company\
          \ = salary * 0.01\n    injury_company = salary * 0.01\n    maternity_company\
          \ = salary * 0.008\n    housing_company = salary * 0.12\n    \n    # è®¡ç®—å°è®¡å’Œåˆè®¡\n\
          \    individual_subtotal = pension_individual + medical_individual + unemployment_individual\
          \ + housing_individual\n    company_subtotal = pension_company + medical_company\
          \ + unemployment_company + injury_company + maternity_company + housing_company\n\
          \    \n    # ç»„ç»‡æ•°æ®\n    data = {\n        \"individual\": {\n           \
          \ \"names\": [\"å…»è€ä¿é™©\", \"åŒ»ç–—ä¿é™©\", \"å¤±ä¸šä¿é™©\", \"å…¬ç§¯é‡‘\", \"åˆ°æ‰‹å·¥èµ„\"],\n      \
          \      \"values\": [\n                round(pension_individual, 2),\n  \
          \              round(medical_individual, 2),\n                round(unemployment_individual,\
          \ 2),\n                round(housing_individual, 2),\n                round(salary\
          \ - individual_subtotal, 2)\n            ]\n        },\n        \"company\"\
          : {\n            \"names\": [\"å…»è€ä¿é™©\", \"åŒ»ç–—ä¿é™©\", \"å¤±ä¸šä¿é™©\", \"å·¥ä¼¤ä¿é™©\", \"\
          ç”Ÿè‚²ä¿é™©\", \"å…¬ç§¯é‡‘\"],\n            \"values\": [\n                round(pension_company,\
          \ 2),\n                round(medical_company, 2),\n                round(unemployment_company,\
          \ 2),\n                round(injury_company, 2),\n                round(maternity_company,\
          \ 2),\n                round(housing_company, 2)\n            ]\n      \
          \  }\n    }\n\n    # EChartsé…ç½®\n    echarts_config = {\n        \"color\"\
          : ['#5470C6', '#91CC75', '#FAC858', '#EE6666', '#73C0DE', '#3BA272'],\n\
          \        \"title\": {\n            \"text\": f\"äº”é™©ä¸€é‡‘ç¼´çº³åˆ†æï¼ˆåŸºæ•°: {salary}å…ƒï¼‰\"\
          ,\n            \"subtext\": \"ä¸ªäººéƒ¨åˆ†ï¼ˆé¥¼å›¾ï¼‰ | å•ä½éƒ¨åˆ†ï¼ˆæŸ±çŠ¶å›¾ï¼‰\",\n            \"left\"\
          : \"center\",\n            \"textStyle\": {\"fontSize\": 16}\n        },\n\
          \        \"tooltip\": {\n            \"trigger\": \"item\",\n          \
          \  \"formatter\": \"{a} <br/>{b}: {c}å…ƒ ({d}%)\"\n        },\n        \"\
          legend\": {\n            \"data\": [\"ä¸ªäººç¼´çº³\", \"å•ä½ç¼´çº³\"],\n            \"\
          bottom\": 10\n        },\n        \"grid\": [\n            {\"right\": \"\
          52%\", \"top\": \"15%\", \"bottom\": \"15%\"},  # é¥¼å›¾åŒºåŸŸ\n            {\"\
          left\": \"52%\", \"top\": \"15%\", \"bottom\": \"15%\"}   # æŸ±çŠ¶å›¾åŒºåŸŸ\n    \
          \    ],\n        \"xAxis\": [\n            {\"show\": False},  # é¥¼å›¾ä¸éœ€è¦xè½´\n\
          \            {\n                \"type\": \"category\",\n              \
          \  \"gridIndex\": 1,\n                \"data\": data[\"company\"][\"names\"\
          ],\n                \"axisLabel\": {\n                    \"interval\":\
          \ 0,\n                    \"rotate\": 30,\n                    \"fontSize\"\
          : 10\n                }\n            }\n        ],\n        \"yAxis\": [\n\
          \            {\"show\": False},  # é¥¼å›¾ä¸éœ€è¦yè½´\n            {\n            \
          \    \"type\": \"value\",\n                \"gridIndex\": 1,\n         \
          \       \"name\": \"é‡‘é¢ï¼ˆå…ƒï¼‰\",\n                \"axisLabel\": {\"formatter\"\
          : \"{value}\"}\n            }\n        ],\n        \"series\": [\n     \
          \       # ä¸ªäººç¼´çº³é¥¼å›¾\n            {\n                \"name\": \"ä¸ªäººç¼´çº³\",\n \
          \               \"type\": \"pie\",\n                \"radius\": [\"40%\"\
          , \"65%\"],\n                \"center\": [\"25%\", \"50%\"],\n         \
          \       \"data\": [\n                    {\"value\": v, \"name\": n} for\
          \ n, v in zip(data[\"individual\"][\"names\"], data[\"individual\"][\"values\"\
          ])\n                ],\n                \"label\": {\n                 \
          \   \"formatter\": \"{b}: {c}å…ƒ\",\n                    \"fontSize\": 10\n\
          \                },\n                \"emphasis\": {\n                 \
          \   \"itemStyle\": {\"shadowBlur\": 10}\n                }\n           \
          \ },\n            # å•ä½ç¼´çº³æŸ±çŠ¶å›¾\n            {\n                \"name\": \"\
          å•ä½ç¼´çº³\",\n                \"type\": \"bar\",\n                \"xAxisIndex\"\
          : 1,\n                \"yAxisIndex\": 1,\n                \"data\": [\n\
          \                    {\"value\": v, \"itemStyle\": {\"color\": color}} \n\
          \                    for v, color in zip(data[\"company\"][\"values\"],\
          \ [\n                        '#5470C6', '#91CC75', '#FAC858', '#EE6666',\
          \ '#73C0DE', '#3BA272'\n                    ])\n                ],\n   \
          \             \"barWidth\": \"60%\",\n                \"label\": {\n   \
          \                 \"show\": True,\n                    \"position\": \"\
          top\",\n                    \"formatter\": \"{c}å…ƒ\",\n                 \
          \   \"fontSize\": 10\n                }\n            }\n        ]\n    }\n\
          \n    # è¿”å›æ ¼å¼åŒ–è¾“å‡º\n    return {\n        \"output\": \"```echarts\\n\" + json.dumps(echarts_config,\
          \ indent=2, ensure_ascii=False) + \"\\n```\"\n    }"
        code_language: python3
        desc: ''
        outputs:
          output:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables:
        - value_selector:
          - '1750252528986'
          - salary
          variable: salary
      height: 54
      id: '1750252558616'
      position:
        x: 375
        y: 282
      positionAbsolute:
        x: 375
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1750252558616'
          - output
          variable: output
        selected: false
        title: ç»“æŸ
        type: end
      height: 90
      id: '1750253515890'
      position:
        x: 654
        y: 264
      positionAbsolute:
        x: 654
        y: 264
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 299
      y: 41.5
      zoom: 1
